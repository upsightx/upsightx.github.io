<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品详情 - PetLife</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="logo">PetLife</div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="dog-products.html">Dog Products</a>
            <a href="cat-products.html">Cat Products</a>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
        </div>
        <div class="contact-icon">
            <a href="#contact"><i class="fas fa-envelope"></i></a>
        </div>
    </nav>

    <!-- 产品详情部分 -->
    <section class="product-detail">
        <div class="product-container" id="product-container">
            <div class="loading">加载中...</div>
        </div>
    </section>

    <!-- 相关产品 -->
    <section class="related-products">
        <h2 class="section-title">相关产品</h2>
        <div class="product-grid" id="related-products">
            <!-- 相关产品将通过JavaScript动态加载 -->
        </div>
    </section>

    <!-- 联系表单部分 -->
    <section class="contact" id="contact">
        <h2 class="section-title">Contact Us</h2>
        <div class="contact-container">
            <div class="contact-info">
                <h3>Get In Touch</h3>
                <p><i class="fas fa-envelope"></i> Email: info@petlife.com</p>
                <p><i class="fas fa-phone"></i> Phone: +1 234 567 890</p>
                <p><i class="fas fa-map-marker-alt"></i> Address: 123 Pet Street, Animal City</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
            <div class="contact-form">
                <form>
                    <input type="text" placeholder="Your Name" required>
                    <input type="email" placeholder="Your Email" required>
                    <input type="text" placeholder="Subject">
                    <textarea placeholder="Your Message" required></textarea>
                    <button type="submit" class="btn">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>PetLife</h3>
                <p>Premium pet accessories for your beloved companions</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="dog-products.html">Dog Products</a></li>
                    <li><a href="cat-products.html">Cat Products</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Subscribe to our newsletter for updates</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Your Email">
                    <button type="submit" class="btn">Subscribe</button>
                </form>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 PetLife. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // 获取URL参数
        function getUrlParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // 加载产品详情
        document.addEventListener('DOMContentLoaded', function() {
            const productId = getUrlParam('id');
            console.log('加载产品详情，ID:', productId);
            
            // 直接嵌入产品数据，避免加载JSON文件
            const productsData = {
                "dog-products": [
                    {
                        "id": "dog1",
                        "name": "Premium Leash",
                        "description": "Durable nylon material with comfortable grip",
                        "image": "leash-1.jpg",
                        "category": "leash"
                    },
                    {
                        "id": "dog2",
                        "name": "Retractable Leash",
                        "description": "Adjustable length for different scenarios",
                        "image": "leash-2.jpg",
                        "category": "leash"
                    },
                    {
                        "id": "dog3",
                        "name": "Interactive Ball",
                        "description": "Durable rubber toy for active play",
                        "image": "toy-1.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "dog4",
                        "name": "Rope Toy",
                        "description": "Perfect for tug-of-war games",
                        "image": "toy-2.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "dog5",
                        "name": "Chew Toy",
                        "description": "Dental health and entertainment",
                        "image": "toy-3.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "dog6",
                        "name": "Training Toy",
                        "description": "Perfect for mental stimulation",
                        "image": "toy-4.jpg",
                        "category": "toy"
                    }
                ],
                "cat-products": [
                    {
                        "id": "cat1",
                        "name": "Interactive Wand",
                        "description": "Feathers and bells for endless fun",
                        "image": "cat-toy-1.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "cat2",
                        "name": "Laser Pointer",
                        "description": "Safe and entertaining exercise toy",
                        "image": "cat-toy-2.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "cat3",
                        "name": "Catnip Mouse",
                        "description": "Filled with premium catnip",
                        "image": "cat-toy-3.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "cat4",
                        "name": "Scratching Post",
                        "description": "Natural sisal material",
                        "image": "cat-toy-4.jpg",
                        "category": "accessory"
                    },
                    {
                        "id": "cat5",
                        "name": "Ball Tower",
                        "description": "Multi-level interactive play",
                        "image": "cat-toy-5.jpg",
                        "category": "toy"
                    },
                    {
                        "id": "cat6",
                        "name": "Tunnel Toy",
                        "description": "Crinkle material for extra fun",
                        "image": "cat-toy-6.jpg",
                        "category": "toy"
                    }
                ]
            };
            
            if (productId) {
                console.log('查找产品ID:', productId);
                
                // 在所有产品中查找匹配的ID
                let foundProduct = null;
                let productCategory = '';
                
                // 查找狗狗产品
                const dogProduct = productsData['dog-products'].find(product => product.id === productId);
                if (dogProduct) {
                    foundProduct = dogProduct;
                    productCategory = 'dog-products';
                }
                
                // 查找猫咪产品
                if (!foundProduct) {
                    const catProduct = productsData['cat-products'].find(product => product.id === productId);
                    if (catProduct) {
                        foundProduct = catProduct;
                        productCategory = 'cat-products';
                    }
                }
                
                if (foundProduct) {
                    console.log('找到产品:', foundProduct.name);
                    
                    // 更新页面标题
                    document.title = `${foundProduct.name} - PetLife`;
                    
                    // 显示产品详情
                    const productContainer = document.getElementById('product-container');
                    productContainer.innerHTML = `
                        <div class="product-detail-content">
                            <div class="product-image">
                                <img src="${foundProduct.image}" alt="${foundProduct.name}">
                            </div>
                            <div class="product-info">
                                <h1>${foundProduct.name}</h1>
                                <span class="product-category">${foundProduct.category}</span>
                                <div class="product-description">
                                    <h3>描述</h3>
                                    <p>${foundProduct.description}</p>
                                </div>
                                <div class="product-features">
                                    <h3>特点</h3>
                                    <ul>
                                        <li>高品质材料</li>
                                        <li>耐用设计</li>
                                        <li>适合各种宠物</li>
                                        <li>安全无毒</li>
                                    </ul>
                                </div>
                                <a href="${productCategory === 'dog-products' ? 'dog-products.html' : 'cat-products.html'}" class="btn">返回列表</a>
                            </div>
                        </div>
                    `;
                    
                    // 加载相关产品
                    const relatedProductsContainer = document.getElementById('related-products');
                    
                    // 获取同类别的其他产品（最多4个）
                    const relatedProducts = productsData[productCategory]
                        .filter(product => product.id !== productId && product.category === foundProduct.category)
                        .slice(0, 4);
                    
                    if (relatedProducts.length > 0) {
                        relatedProductsContainer.innerHTML = '';
                        
                        relatedProducts.forEach(product => {
                            relatedProductsContainer.innerHTML += `
                                <div class="product-card">
                                    <img src="${product.image}" alt="${product.name}">
                                    <h3>${product.name}</h3>
                                    <p>${product.description}</p>
                                    <a href="product-detail.html?id=${product.id}" class="btn">查看详情</a>
                                </div>
                            `;
                        });
                    } else {
                        // 如果没有相关产品，隐藏相关产品部分
                        document.querySelector('.related-products').style.display = 'none';
                    }
                } else {
                    console.error('未找到产品:', productId);
                    const productContainer = document.getElementById('product-container');
                    productContainer.innerHTML = `
                        <div class="product-not-found">
                            <h2>产品未找到</h2>
                            <p>抱歉，未找到ID为 "${productId}" 的产品。</p>
                            <a href="index.html" class="btn">返回首页</a>
                        </div>
                    `;
                    
                    // 隐藏相关产品部分
                    document.querySelector('.related-products').style.display = 'none';
                }
            } else {
                console.error('未提供产品ID');
                const productContainer = document.getElementById('product-container');
                productContainer.innerHTML = `
                    <div class="product-not-found">
                        <h2>产品未找到</h2>
                        <p>抱歉，未提供产品ID。</p>
                        <a href="index.html" class="btn">返回首页</a>
                    </div>
                `;
                
                // 隐藏相关产品部分
                document.querySelector('.related-products').style.display = 'none';
            }
        });
    </script>
</body>
</html>
